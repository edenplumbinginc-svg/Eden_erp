[Mode: Execution]

**Step:** Add a lightweight **DEV_ONBOARDING.md** so future engineers can extend (not rewrite) later. This lets us pause feature work now and resume anytime without context loss.

**Why it matters:** A clear map (architecture + runbook + env) prevents “we don’t understand this code” six months from now.

**Inputs needed:** Repo shell access.

**Command (copy–paste):**

````bash
mkdir -p docs
cat > docs/DEV_ONBOARDING.md <<'MD'
# Eden ERP — Developer Onboarding

## 1) Quick Start
- Node: v18+  
- Env: Replit Secrets are the source of truth.
- Run:
  ```bash
  npm run verify:db
  node server.js
````

## 2) Environments & Secrets

* **DATABASE_URL**: Supabase session pooler (aws-0) + `?sslmode=require`
* **EXPECTED_DB_HOST**: `aws-0-us-east-2.pooler.supabase.com:5432`
* **EXPECTED_DB_PROJECT_REF**: `jwehjdggkskmjrmoqibk`
* Optional: `DB_SSL_REJECT_UNAUTHORIZED=false` (only if TLS chain issues in dev)

## 3) Architecture

* `server.js` — Express app & routes wiring
* `routes/` — REST endpoints
* `services/` — domain logic (transactions, event bus)
* `lib/config-db.js` — pg pool, guards, TLS
* `migrations/` — SQL schema changes
* `jobs/` — cron-friendly scripts (e.g., idle reminders)

## 4) Transactions & Event Bus

All task operations are wrapped in a single DB transaction that also inserts notifications. Smoke test:

```bash
./prod-smoke.sh
```

## 5) Testing & Verification

* Config: `npm run verify:db`
* Health: `curl http://localhost:3000/health`
* DB fingerprint: `GET /api/debug/dbinfo`

## 6) Contributing

* Create feature in a module under `services/` + route in `routes/`
* Add migration if schema changes
* Keep env reads only via `process.env` (no hardcoded creds)
* PR checklist:

  * [ ] Added/updated migration
  * [ ] Route + service unit tested (to be added)
  * [ ] `verify:db` passes

## 7) Roadmap Pointers

* Phase 2: automation hooks, scoring, handoffs
* Phase 3: ball-in-court, AI summaries, field uploads
  MD

````

**Success check:** File exists and is readable:
```bash
sed -n '1,40p' docs/DEV_ONBOARDING.md
````

**Next:** wait for user
(When you’re ready, we’ll jump to a new thread titled **“Prod verification pass → Post-deploy checklist + monitoring setup”**.)
